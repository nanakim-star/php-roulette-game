function customAlerts(e,t){var a=$(".main-alerts .pattern").clone();a.addClass("alert-"+e).removeClass("pattern").children("span").text(t),$(".main-alerts").append(a),a.addClass("in"),window.setTimeout(function(){a.remove()},3e3)}angular.module("starter",["ionic","StarterApp","starter.controllers"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$interpolateProvider","$httpProvider",function(e,t,a,s){e.state("app",{url:"/app","abstract":!0,templateUrl:"mobile",controller:"MobileAppCtrl"}).state("app.search",{url:"/search",views:{menuContent:{templateUrl:"ng-templates/search.html"}}}).state("app.browse",{url:"/browse",views:{menuContent:{templateUrl:"account/bonuses"}}}).state("app.profile",{url:"/profile",views:{menuContent:{templateUrl:"account"}}}).state("app.change-password",{url:"/profile/change/password",views:{menuContent:{templateUrl:"account/password",controller:"MobileProfile"}}}).state("app.profile-transactions",{url:"/profile/transactions",views:{menuContent:{templateUrl:"account/transactions"}}}).state("app.profile-bonuses",{url:"/profile/bonuses",views:{menuContent:{templateUrl:"account/bonuses",controller:"MobileProfile"}}}).state("app.profile-reflink",{url:"/profile/reflink",views:{menuContent:{templateUrl:"account/reflink"}}}).state("app.profile-deposit",{url:"/profile/deposit",views:{menuContent:{templateUrl:"account/deposit"}}}).state("app.profile-transactionsHistory",{url:"/profile/transactionsHistory",views:{menuContent:{templateUrl:"account/transactionsHistory"}}}).state("app.profile-withdrawal",{url:"/profile/withdrawal",views:{menuContent:{templateUrl:"account/withdrawal",controller:"MobileProfile"}}}).state("app.profile-withdrawal-beta",{url:"/profile/withdrawal/beta",views:{menuContent:{templateUrl:"account/withdrawal2"}}}).state("app.playlists",{url:"/playlists",views:{menuContent:{templateUrl:"ng-templates/playlists.html",controller:"PlaylistsCtrl"}}}).state("app.single",{url:"/playlists/:playlistId",views:{menuContent:{templateUrl:"ng-templates/playlist.html",controller:"PlaylistCtrl"}}}).state("app.type",{url:"/matches/:type/specials",views:{menuContent:{templateUrl:"ng-templates/matches-specials.html",controller:"ViewMatchesSpecials"}}}).state("app.settings",{url:"/settings",views:{menuContent:{templateUrl:"ng-templates/settings.html"}}}).state("app.matches",{url:"/matches",views:{menuContent:{templateUrl:"ng-templates/matches.html"}}}).state("app.specials",{url:"/match/:matchId",views:{menuContent:{templateUrl:"ng-templates/login.html"}}}),t.otherwise("/app/matches")}]),angular.module("starter.controllers",[]).controller("MobileAppCtrl",["$rootScope","$scope","$sce","$ionicModal","$timeout","$ionicScrollDelegate","$ionicLoading",function(e,t,a,s,i,o,n){t.loginData={},s.fromTemplateUrl("ng-templates/language.html",{scope:t}).then(function(e){t.modalLanguage=e}),t.closeLanguage=function(){t.modalLanguage.hide()},t.openLanguage=function(){t.modalLanguage.show()},s.fromTemplateUrl("login-modal.html",{scope:t}).then(function(e){t.modal=e}),t.closeLogin=function(){t.modal.hide()},t.login=function(){t.modal.show(),setTimeout(function(){grecaptcha.render($(".g-recaptcha")[0],{sitekey:"6LfcUiMTAAAAAKohEKP2C4lFhy_MEi4Ub3caeRiX"})},500)},t.doLogin=function(){$("#loginErrorMsg").hide().addClass("hide"),$.post("/ajax/login",$("#loginForm").serialize(),function(e){0==e.status?window.location.href="/":($("#loginErrorMsg").show().removeClass("hide"),$(".login-error-code").html(e.code))})},s.fromTemplateUrl("your-bet-modal.html",{scope:t}).then(function(e){t.modalYourBet=e}),t.closeModalYourBet=function(){t.modalYourBet.hide()},t.closeOKModalYourBet=function(){t.modalYourBet.hide()},t.openModalYourBet=function(){t.modalYourBet.show()},s.fromTemplateUrl("wrongBetOdds.html",{scope:t}).then(function(e){t.wrongBetOdds=e}),t.openWrongBetOdds=function(e){t.error=e.error,t.odds=e.odds,t.changedOdds=e.changedOdds,t.changedOddsBefore=e.changedOddsBefore,t.wrongBetOdds.show()},t.closeWrongBetOdds=function(){t.wrongBetOdds.hide()},t.errorHtml=function(){return a.trustAsHtml(t.error)},t.resizeScroll=function(){},t.$on("$ionicView.loaded",function(){}),t.showLoading=function(){n.show({content:"Loading",templateUrl:"loading.html",showBackdrop:!1,duration:5e3})},t.closedLoading=function(){setTimeout(function(){n.hide()},200)},t.$on("showLoading",function(){t.showLoading()}),t.$on("hideLoading",function(){setTimeout(function(){n.hide()},10)}),t.scrollTop=function(){o.scrollTop()},s.fromTemplateUrl("finish-modal.html",{scope:t}).then(function(e){t.finishModal=e}),t.openFinishModal=function(e){t.finishModalError=e.error,t.finishModalStatus=e.status,t.finishModal.show(),0==e.status&&t.closeModalYourBet()},t.closeFinishModal=function(){t.finishModal.hide()},t.$on("closedYourBet",function(e,a){t.closeOKModalYourBet()}),t.$on("openWrong",function(e,a){t.openWrongBetOdds(a)}),t.$on("openFinish",function(e,a){t.openFinishModal(a)}),t.errorHtml_e=function(){e.$broadcast("errorHtml")},t.getSideName_e=function(t,a){e.$broadcast("getSideName",{matchId:t,side:a})},t.getSideTypeName_e=function(t,a){e.$broadcast("getSideTypeName",{matchId:t,side:a})},t.getSideOdd_e=function(t,a){e.$broadcast("getSideOdd",{matchId:t,side:a})},t.getSideOddBet_e=function(t,a){e.$broadcast("getSideOddBet",{matchId:t,side:a})},t.goBack=function(){$ionicNavBarDelegate.back()},t.testRepeatDone=function(){},t.doRefresh=function(){},t.$watch(function(){return t.$parent.showPreloader},function(e,a){e?t.showLoading():t.closedLoading()})}]).controller("PlaylistsCtrl",["$scope",function(e){e.playlists=[{title:"Reggae",id:1},{title:"Chill",id:2},{title:"Dubstep",id:3},{title:"Indie",id:4},{title:"Rap",id:5},{title:"Cowbell",id:6}]}]).controller("PlaylistCtrl",["$scope","$stateParams",function(e,t){}]).controller("ViewMatchesSpecials",["$scope","$stateParams",function(e,t){e.currMatchId=t.type,e.showLoading(),e.loadSpecials(e.currMatchId),e.currMatch=e.getMatch(e.currMatchId),e.closedLoading()}]).controller("MobileProfile",["$scope","$http",function(e,t){var a=angular.element("[name=csrf_token]").val();e.cp={pass_old:"",pass_new:"",pass_confirm:"",csrf_token:a},e.info={error:"",msg:""},e.chagnePasswowrd=function(){var a=angular.element("#error-container"),s=angular.element("#msg-container");a.removeClass("shake"),s.removeClass("bounceIn"),t({method:"POST",url:"/account/password",data:$.param(e.cp),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){t.error?(e.info.error=t.error,a.addClass("shake")):e.info.error="",t.message?(e.info.msg=t.message,s.addClass("bounceIn")):e.info.msg=""})},e.bonusCode=function(t){"bonusstartturnoff"==t.bonusCode.toLowerCase()?(e.bonus.mode=2,e.bonus.balanceBonus<=0?e.bonus.mode=4:1==e.bonus.lock&&(e.bonus.mode=5)):e.bonus.mode=1}}]).directive("loaderRepeat",function(){return function(e,t,a){e.$last&&e.closedLoading()}});var app=angular.module("StarterApp",["ui.bootstrap","ngCookies"]).directive("onFinishRender",["$timeout",function(e){return{restrict:"A",link:function(e,t,a){e.$last===!0&&e.$evalAsync(a.onFinishRender)}}}]);"undefined"!=typeof angularChangeDelimiter&&angularChangeDelimiter&&app.config(["$interpolateProvider",function(e){e.startSymbol("{[{").endSymbol("}]}")}]),app.controller("AppCtrl",["$rootScope","$scope","$http","$modal","$sce","$cookies",function(e,t,a,s,i,o,n){t.type="";var r=null,c=null,l=[];for(var d in jstz.olson.timezones)l.push({id:jstz.olson.timezones[d],name:jstz.olson.timezones[d]});t.timezone="Europe/Berlin";var m=o.get("userTimezone");m?t.timezone=m:t.timezone=jstz.determine().name(),t.countTable=0,t.displayMatches=function(e){return!(0!=e.live_beting||e.tournament!=t.sort.tournament&&0!=t.sort.tournament||e.game!=t.sort.game&&0!=t.sort.game)},t.displayTopMatches=function(e){return 1==e.isTop},t.getMatch=function(e){for(var t in h[0].matches)if(h[0].matches[t].id==e)return h[0].matches[t]},t.displayFavorites=function(e){return"undefined"!=typeof t.favoriteTeamsId?t.favoriteTeamsId.indexOf(e.team1.id)>=0||t.favoriteTeamsId.indexOf(e.team2.id)>=0:!1},t.displayLiveMatches=function(e){return!(1!=e.live_beting||e.tournament!=t.sort.tournament&&0!=t.sort.tournament||e.game!=t.sort.game&&0!=t.sort.game)},t.oddType=0,t.gamesLoaded=[0,1,2,3,4,5],t.matchLiveLast=0,t.matchLiveFirst=-1,t.showOnlyLives=!1,t.showQueryResult=!1,t.searchQuery="",t.user={timezoneList:l,timezoneObject:null,limit_factor:1,limit_live_factor:1,oddTypeList:[{id:0,name:"Decimal"},{id:1,name:"American"},{id:2,name:"Fractional"}],oddType:0},t.totalDisplayed=10,t.showSearchPreloader=!1,t.totalCount=0,t.countInit=function(){return t.totalCount++},t.countEsports=function(){var e=0;for(var a in t.games){if(!(6>a))return e;e+=t.games[a].count}return e},t.changeOddType=function(e){t.oddType=e;var a=new Date,s=a.getTime();a.setTime(s+2592e3),o.put("userOddType",t.oddType,{expires:a})},t.currentTime=moment().tz(t.timezone).format("HH:mm:ss"),t.user.timezoneObject=t.timezone,setInterval(function(){t.$apply(function(){t.currentTime=moment().tz(t.timezone).format("HH:mm:ss")})},500),t.oddsFormat=function(e){if(void 0===e)return"0.00";if(e=parseFloat(parseFloat(e).toFixed(2)),1==t.oddType)return e>=2?(100*(e-1)).toFixed(0):(-100/(e-1)).toFixed(0);if(2==t.oddType){for(var a=parseInt(100*(e-1)),s=100,i=s;i>0&&(a%i!=0||s%i!=0);)i--;return a/=i,s/=i,a+"/"+s}return e.toFixed(2)},t.changeTimezone=function(e){t.timezone=e;var a=new Date,s=a.getTime();a.setTime(s+2592e3),o.put("userTimezone",t.timezone,{expires:a}),clearInterval(r),t.startMatchGrabber()},t.unavailableImages=[],t.Math=window.Math,t.steamWaitingTransactionsCount=0,t.lockBet=!1,t.showUpcommingCount=5,t.showPreviouseCount=5,t.sort={game:0,tournament:0,top:0};var u=function(){$("#noResults").hide(),$("#noResultsLive").hide(),$("#noTopLive").hide()};t.scrollMatchList=function(){if(window.innerWidth>=992){var e=window.pageYOffset,t=parseInt($("#left-sidebar").css("marginTop").replace("px",""));t>0&&($("#left-sidebar").css("marginTop",0),window.scrollTo(0,e-t));var a=e-80;$("#main-content").css("marginTop",0>=a?0:a)}},t.fromTournament=!1,t.sortGames=function(e,a,s,i,o){t.showPreloader=!0,o&&(t.fromTournament=$(o.currentTarget).children("img").hasClass("favorite-tournament")),t.resetQuery(),t.showSlider=!1,t.sort.top=0,t.showQueryResult=!1,u(),t.totalDisplayed=10,s?t.showOnlyLives=s:t.showOnlyLives=!1,t.sort.game=e,t.sort.tournament=a,t.gamesLoaded.indexOf(e)<0?(t.gamesLoaded.push(e),t.loadGames()):t.loadMoreRows(t.tabs[0].matches.length),i||t.scrollMatchList()},t.allEsports=function(){t.showPreloader=!0,t.resetQuery(),t.showSlider=!1,t.sort.top=0,t.sort.game=0,t.gamesLoaded=[0,1,2,3,4,5],u(),t.totalDisplayed=10,t.showOnlyLives=!1,t.showFavoriteMatches=!1,t.showQueryResult=!1,t.loadGames(),t.loadGamesLive()},t.countTable=function(){u()},t.liveGames=function(){t.showPreloader=!0,t.resetQuery(),t.showSlider=!1,u(),t.sort.game=0,t.sort.tournament=0,t.sort.top=!1,t.gamesLoaded=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],t.showOnlyLives=!0,t.totalDisplayed=10,t.showFavoriteMatches=!1,t.showQueryResult=!1,t.loadGamesLive(),t.loadMoreRows(t.tabs[0].matches_live.length)},t.topGames=function(){t.showPreloader=!0,t.resetQuery(),t.showOnlyLives=!1,t.showSlider=!1,u(),t.totalDisplayed=10,t.sort.top=!0,t.showFavoriteMatches=!1,t.showQueryResult=!1,t.gamesLoaded=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],t.loadGames(!0)},t.favoriteTeams=function(){t.showPreloader=!0,t.resetQuery(),t.showSlider=!1,t.showOnlyLives=!1,t.sort.top=!1,t.showFavoriteMatches=!0,t.sort.game=0,t.gamesLoaded=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],u(),t.loadGames(),t.loadGamesLive()},t.videoMode={play:!1,video:"",links:[]},t.videoNow="",t.setStream=function(e){t.videoMode.video=i.trustAsResourceUrl(e)},t.openStream=function(e){a.post("/ajax/getStreams",{eid:e}).success(function(e,a,s,o){for(var n in e);t.videoMode.links=e,t.videoMode.video=i.trustAsResourceUrl(e[0].v),t.videoNow=e[0].v,t.videoMode.play=!0,$("#liveMatchStream").length>0&&$("html, body").animate({scrollTop:$("#liveMatchStream").offset().top},500)})},t.closeStream=function(e){t.videoMode.play=!1},t.bet={elements:[],totalOdd:1,stake:1,maxStake:3e3,defaultMaxStake:3e3,accept_higher:o.get("bet.accept_higher"),accept_all:o.get("bet.accept_all"),save_odds_accepts:!1,isLive:!1},t.placeBet=function(e,a){var s=e.selectedSide;if(0==e.selectedSide&&1==e.locked)return!1;if("s"==a.substr(0,1)?e.selectedSide=a.substr(1):e.selectedSide=a,s==e.selectedSide)return t.removeMatchFromBet(e),!1;var i=!1;for(var o in t.bet.elements)t.bet.elements[o]&&t.bet.elements[o].id==e.id&&(i=!0,t.bet.elements[o]=JSON.parse(JSON.stringify(e)));i||t.bet.elements.push(JSON.parse(JSON.stringify(e)))},t.betSuggestedCoupon=function(e){for(var a=0;a<t.suggested_matches.length;a++)t.setMatchToBet(t.suggested_matches[a],t.suggested_matches[a].suggestedSide),t.placeBet(t.suggested_matches[a],t.suggested_matches[a].suggestedSide);t.bet.stake=e,t.suggested_matches=[]},t.setMatchToBet=function(e,t){for(var a in h[0].matches)h[0].matches[a].id==e.id&&(h[0].matches[a].selectedSide=t);for(var a in h[0].matches_live)h[0].matches_live[a].id==e.id&&(h[0].matches_live[a].selectedSide=t)},t.removeMatchFromBet=function(e){for(var a in t.bet.elements)t.bet.elements[a].id==e.id&&t.bet.elements.splice(a,1);for(var a in h[0].matches)h[0].matches[a].id==e.id&&(h[0].matches[a].selectedSide=0);for(var a in h[0].matches_live)h[0].matches_live[a].id==e.id&&(h[0].matches_live[a].selectedSide=0)},t.$watch("bet",function(){if(t.bet.elements.length>0){$("#slipPanel").length&&$("#slipPanel .help-icon").tooltip({trigger:"hover",placement:"bottom",delay:1});var e=1,a=0,s=3e5,i=!1;for(var o in t.bet.elements){var n=t.bet.elements[o];if(1==n.live_beting&&(i=!0),n.selectedSide<10){if(1==n.selectedSide)var r=parseFloat(parseFloat(n.odds.s1).toFixed(2));if(2==n.selectedSide)var r=parseFloat(parseFloat(n.odds.s2).toFixed(2));if(3==n.selectedSide)var r=parseFloat(parseFloat(n.odds.s3).toFixed(2));if(1==n.selectedSide)var c=parseFloat(Math.min(n.limit_1,t.bet.defaultMaxStake))/r;if(2==n.selectedSide)var c=parseFloat(Math.min(n.limit_2,t.bet.defaultMaxStake))/r;if(3==n.selectedSide)var c=parseFloat(Math.min(n.limit_draw,t.bet.defaultMaxStake))/r}else var r=parseFloat(t.getSideOddBet(n.id,n.selectedSide)),c=parseFloat(Math.min(n.limit_special,t.bet.defaultMaxStake))/r;s>c&&(s=c),e*=r,a+=r}t.bet.isLive=i,t.bet.totalOdd=e.toFixed(2),t.bet.maxStake=Math.min(Math.round(s*a),t.bet.defaultMaxStake).toFixed(2),t.bet.maxStake=Math.min(t.bet.maxStake,Math.floor(3e6/t.bet.totalOdd)/100).toFixed(2),setTimeout(function(){$("#Stake").trigger("run-validation")},100)}},!0),t.doBet=function(i){if(t.bet.save_odds_accepts&&t.bet.isLive){var n=new Date,r=n.getTime();n.setTime(r+2592e3),o.put("bet.accept_higher",t.bet.accept_higher,n),o.put("bet.accept_all",t.bet.accept_all,n)}if(!t.lockBet&&t.bet.stake>=.01&&t.bet.stake<=t.bet.maxStake){t.lockBet=!0;var c=[];for(var l in t.bet.elements)c.push(t.bet.elements[l].id);if(h[0].matches_live.length>0)for(var d in h[0].matches_live)if(1==h[0].matches_live[d].locked&&c.indexOf(h[0].matches_live[d].id)>=0)return t.lockBet=!1,s.open({animation:!0,templateUrl:"modalBetLocked.html",controller:"modalBetLockedCtrl"}),!1;t.bet.csrf_token=$("#betFormToken").attr("value"),a.post("/ajax/makeBet",t.bet).success(function(a,o,n,r){if(t.lockBet=!1,"undefined"==typeof a.status){if(!i)return void s.open({animation:!0,templateUrl:"modalBetFinish.html",controller:"modalBetFinishCtrl",resolve:{icon:function(){return"remove"},header:function(){return"Error"},error:function(){return"Technical problem"}}});e.$broadcast("openFinish",{error:"Technical problem",status:1})}if(0==a.status){t.bet.elements=[];for(var c in h[0].matches)h[0].matches[c].selectedSide=0;for(var c in h[0].matches_live)h[0].matches_live[c].selectedSide=0}if(t.balance=a.balance,1==a.status&&a.wrongOdds&&a.wrongOdds.length>0){var l=[],d=[];for(var c in a.wrongOdds){l.push(a.wrongOdds[c].id);for(var m in t.bet.elements)if(t.bet.elements[m].id==a.wrongOdds[c].id)if(t.bet.elements[m].selectedSide<=10)d.push({id:t.bet.elements[m].id,s1:t.bet.elements[m].odds.s1,s2:t.bet.elements[m].odds.s2,s3:t.bet.elements[m].odds.s3}),t.bet.elements[m].odds.s1=a.wrongOdds[c].s1,t.bet.elements[m].odds.s2=a.wrongOdds[c].s2,t.bet.elements[m].odds.s3=a.wrongOdds[c].s3;else for(var u in t.bet.elements[m].specialsList)for(var f in t.bet.elements[m].specialsList[u].details)if(t.bet.elements[m].specialsList[u].details[f].id==t.bet.elements[m].selectedSide){var p=t.bet.elements[m].specialsList[u].details[f];d.push({id:t.bet.elements[m].id,s:parseFloat(p.odd)}),t.bet.elements[m].specialsList[u].details[f].odd=a.wrongOdds[c].s}}i?e.$broadcast("openWrong",{odds:a.wrongOdds,changedOdds:l,changedOddsBefore:d,error:a.error,bet:t.bet,tabs:h}):s.open({animation:!0,templateUrl:"modalBetOdds.html",controller:"modalBetOddsCtrl",resolve:{odds:function(){return a.wrongOdds},changedOdds:function(){return l},changedOddsBefore:function(){return d},error:function(){return a.error},bet:function(){return t.bet},tabs:function(){return h}}})}else i?e.$broadcast("openFinish",{error:a.error,status:a.status}):s.open({animation:!0,templateUrl:"modalBetFinish.html",controller:"modalBetFinishCtrl",resolve:{icon:function(){return 0==a.status?"ok":"remove"},header:function(){return 0==a.status?"Great job!":"Error"},error:function(){return a.error}}})}).error(function(e,a,s,i){t.lockBet=!1,setTimeout(function(){alert("Connection problem, please try later")},2e3)})}},t.$on("doBet",function(e,a){t.doBet()}),t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.myInterval=5e3;t.slides="undefined"!=typeof banners?banners:[];t.openLogin=function(){s.open({animation:!0,templateUrl:"loginModal.html",controller:"loginCtrl",size:"lg"}),setTimeout(function(){grecaptcha.render($(".g-recaptcha")[0],{sitekey:"6LfcUiMTAAAAAKohEKP2C4lFhy_MEi4Ub3caeRiX"})},500)},t.openWithdrawalLimitModal=function(){s.open({animation:!0,templateUrl:"withdrawalMinimumAmount.html",controller:"withdrawalMinimumAmountCtrl",size:"sm"})},t.games=[],t.unorderedGames=[],t.favoriteGamesId=[],t.favoriteTournamentsId=[],t.showSport=[];var h=[{title:"E-Sport",matches:[]}];t.loadMore=function(e){0==e?t.showUpcommingCount+=5:t.showPreviouseCount+=5},t.loadedSpecial=function(e){for(var t in h[0].matches)if(h[0].matches[t].id==e&&h[0].matches[t].specialsList.length>0)return!0;for(var t in h[0].matches_live)if(h[0].matches_live[t].id==e&&"undefined"!=typeof h[0].matches_live[t].specialsList&&h[0].matches_live[t].specialsList.length>0)return!0;return!1},t.getSpecials=function(e){var t=[];for(var a in h[0].matches)if(h[0].matches[a].id==e&&h[0].matches[a].specialsList.length>0)for(var s in h[0].matches[a].specialsList)t.push(h[0].matches[a].specialsList[s]);for(var a in h[0].matches_live)if(h[0].matches_live[a].id==e&&"undefined"!=typeof h[0].matches_live[a].specialsList&&h[0].matches_live[a].specialsList.length>0)for(var s in h[0].matches_live[a].specialsList)t.push(h[0].matches_live[a].specialsList[s]);return t},t.getSideName=function(e,t){for(var a in h[0].matches)if(h[0].matches[a].id==e)for(var s in h[0].matches[a].specialsList)for(var i in h[0].matches[a].specialsList[s].details)if(h[0].matches[a].specialsList[s].details[i].id==t)return h[0].matches[a].specialsList[s].details[i].name;for(var a in h[0].matches_live)if(h[0].matches_live[a].id==e)for(var s in h[0].matches_live[a].specialsList)for(var i in h[0].matches_live[a].specialsList[s].details)if(h[0].matches_live[a].specialsList[s].details[i].id==t)return h[0].matches_live[a].specialsList[s].details[i].name;return""},t.getSideTypeName=function(e,t){var a=!1;for(var s in h[0].matches)if(h[0].matches[s].id==e)for(var i in h[0].matches[s].specialsList)for(var o in h[0].matches[s].specialsList[i].details){if(h[0].matches[s].specialsList[i].details[o].id==t)return 2==h[0].matches[s].specialsList[i].type?h[0].matches[s].specialsList[i].name+" "+(a?h[0].matches[s].team2.name:h[0].matches[s].team1.name):h[0].matches[s].specialsList[i].name;2==h[0].matches[s].specialsList[i].type&&(a=!0)}return""},t.getSideOdd=function(e,t){for(var a in h[0].matches)if(h[0].matches[a].id==e)for(var s in h[0].matches[a].specialsList)for(var i in h[0].matches[a].specialsList[s].details)if(h[0].matches[a].specialsList[s].details[i].id==t)return h[0].matches[a].specialsList[s].details[i].odd;return 0},t.getSideOddBet=function(e,a){for(var s in t.bet.elements)if(t.bet.elements[s].id==e)for(var i in t.bet.elements[s].specialsList)for(var o in t.bet.elements[s].specialsList[i].details)if(t.bet.elements[s].specialsList[i].details[o].id==a)return t.bet.elements[s].specialsList[i].details[o].odd;return 0};var f=!1;t.loadSpecials=function(e){for(var t in h[0].matches)if(h[0].matches[t].id==e&&h[0].matches[t].specialsList.length>0)return h[0].matches[t].specialsShow=!h[0].matches[t].specialsShow,!0;for(var t in h[0].matches_live)if(h[0].matches_live[t].id==e&&h[0].matches_live[t].specialsList.length>0)return h[0].matches_live[t].specialsShow=!h[0].matches_live[t].specialsShow,!0;f||(f=!0,a.get("/ajax/getSpecials?eid="+e).success(function(t,a,s,i){if(0==t.status){for(var o in h[0].matches)if(h[0].matches[o].id==e){h[0].matches[o].specialsShow=!0,void 0===h[0].matches[o].specialsList&&(h[0].matches[o].specialsList=[]);for(var n in t.list)h[0].matches[o].specialsList.push(t.list[n])}for(var o in h[0].matches_live)if(h[0].matches_live[o].id==e){h[0].matches_live[o].specialsShow=!0,void 0===h[0].matches_live[o].specialsList&&(h[0].matches_live[o].specialsList=[]);for(var n in t.list)h[0].matches_live[o].specialsList.push(t.list[n]);h[0].matches_live[o].specialsList.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}}f=!1}).error(function(){f=!1}))},t.getSuggestedBets=function(){a.get("/ajax/getSuggestedBets").success(function(e){0==e.status&&(t.suggested_matches=e.suggested_matches)})},t.suggestedSliderRun=function(){var e=function(e,a){if(a.value)var s=parseFloat(a.value.toFixed(2));else var s=parseFloat(20);var i=1;for(var o in t.suggested_matches){if(1==t.suggested_matches[o].suggestedSide)var n=parseFloat(parseFloat(t.suggested_matches[o].odds.s1).toFixed(2));else if(2==t.suggested_matches[o].suggestedSide)var n=parseFloat(parseFloat(t.suggested_matches[o].odds.s2).toFixed(2));else var n=parseFloat(parseFloat(t.suggested_matches[o].odds.s3).toFixed(2));i*=n}var r=i*s;t.suggestedStake=s,$("#suggestedStake").text(s),$("#suggestedReturn").text(r.toFixed(2))};$("#slider").slider({step:1,value:20,min:1,max:100,create:function(t,a){e(t,a)},slide:function(t,a){e(t,a)}})},t.setMatchesLimitFactors=function(e,a){t.user.limit_factor=e,t.user.limit_live_factor=a},t.startMatchGrabber=function(){t.showPreloader=!0,a.get("/ajax/matchesToBet?tz="+t.timezone+"&g="+t.gamesLoaded.join()).success(function(e,a,s,i){if(0==e.status){t.matchLiveLast=0,t.matchLiveFirst=-1;for(var o in e.matches){if(t.bet.elements.length>0)for(var n in t.bet.elements)e.matches[o].id==t.bet.elements[n].id&&(e.matches[o].selectedSide=t.bet.elements[n].selectedSide);e.matches[o].specialsShow=!1,e.matches[o].specialsList=[],e.matches[o].oddsChange={s1:!1,s2:!1,s3:!1},1==e.matches[o].live_beting&&(t.matchLiveLast=o),1==e.matches[o].live_beting&&t.matchLiveFirst<0&&(t.matchLiveFirst=o),1==e.matches[o].live_beting?(e.matches[o].limit_1=(t.user.limit_live_factor*e.matches[o].limit_1).toFixed(0),e.matches[o].limit_2=(t.user.limit_live_factor*e.matches[o].limit_2).toFixed(0),e.matches[o].draw=(t.user.limit_live_factor*e.matches[o].draw).toFixed(0),e.matches[o].limit_special=(t.user.limit_live_factor*e.matches[o].limit_special).toFixed(0)):(e.matches[o].limit_1=(t.user.limit_factor*e.matches[o].limit_1).toFixed(0),e.matches[o].limit_2=(t.user.limit_factor*e.matches[o].limit_2).toFixed(0),e.matches[o].draw=(t.user.limit_factor*e.matches[o].draw).toFixed(0),e.matches[o].limit_special=(t.user.limit_factor*e.matches[o].limit_special).toFixed(0))}0==t.showOnlyLives&&(h[0].matches=e.matches,h[0].oldMatches=e.oldMatches),t.unorderedGames=[],t.unorderedGames=e.games,t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,e.games),t.loadMoreRows(t.tabs[0].matches.length),t.countAllEsports=t.countEsports(),t.initShowSports()}}).error(function(e,t,a,s){}),r=setInterval(function(){t.loadGames()},3e4),a.get("/ajax/matchesLiveToBet?tz="+t.timezone+"&g="+t.gamesLoaded.join()).success(function(e,a,s,i){if(0==e.status){for(var o in e.matches_live){if(t.bet.elements.length>0)for(var n in t.bet.elements)e.matches_live[o].id==t.bet.elements[n].id&&(e.matches_live[o].selectedSide=t.bet.elements[n].selectedSide);e.matches_live[o].oddsChange={s1:!1,s2:!1,s3:!1},1==e.matches_live[o].live_beting?(e.matches_live[o].limit_1=(t.user.limit_live_factor*e.matches_live[o].limit_1).toFixed(0),e.matches_live[o].limit_2=(t.user.limit_live_factor*e.matches_live[o].limit_2).toFixed(0),e.matches_live[o].draw=(t.user.limit_live_factor*e.matches_live[o].draw).toFixed(0),e.matches_live[o].limit_special=(t.user.limit_live_factor*e.matches_live[o].limit_special).toFixed(0)):(e.matches_live[o].limit_1=(t.user.limit_factor*e.matches_live[o].limit_1).toFixed(0),e.matches_live[o].limit_2=(t.user.limit_factor*e.matches_live[o].limit_2).toFixed(0),e.matches_live[o].draw=(t.user.limit_factor*e.matches_live[o].draw).toFixed(0),e.matches_live[o].limit_special=(t.user.limit_factor*e.matches_live[o].limit_special).toFixed(0))}h[0].matches_live=e.matches_live,t.live=e.live,t.all_esports=e.allEsports}}).error(function(e,t,a,s){}),c=setInterval(function(){t.loadGamesLive()},15e3),t.top_bets={id:0,icon:"/media/img/cup.png",name:"Top 20 events",count:20},a.get("/ajax/getUserFavorites").success(function(e){0==e.status&&(t.favoriteTeamsInfo=e.favoriteTeamsInfo,t.favoriteTeamsId=e.favoriteTeams,t.countFavoriteTeams=e.countFavoriteTeams,t.favoriteTournamentsId=e.favoriteTournaments,t.favoriteGamesId=e.favoriteGames,t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,t.unorderedGames))}),$(".search-cleaner").click(function(){t.setBeforeQueryState(),$("#search").val(""),$(".searchBarInfo .glyphicon-search").css("display","inline"),$(".searchBarInfo .search-cleaner").css("display","none"),$(".searchBarInfo .search-loader").css("display","none")})},t.setGamesOrder=function(e,a,s){for(var i=[],o=0;o<s.length;o++)i.push($.extend({},s[o]));for(var n=[],r=0;r<i.length;r++)i[r].turnaments=t.setTournamentsOrder(a,i[r]);for(var c=0;c<e.length;c++)for(var r=0;r<i.length;r++)if(e[c]==i[r].id){n.push(i[r]),i.splice(r,1);break}for(var r=0;r<i.length;r++)for(var l=0;l<a.length;l++)for(var d=0;d<i[r].turnaments.length;d++)if(a[l]==i[r].turnaments[d].id){n.push(i[r]),i.splice(r,1);break}for(var m in i)n.push(i[m]);return n},t.setTournamentsOrder=function(e,t){for(var a=[],s=0;s<t.turnaments.length;s++)a.push($.extend({},t.turnaments[s]));for(var i=[],o=0;o<e.length;o++)for(var n=0;n<a.length;n++)if(e[o]==a[n].id){i.push(a[n]),a.splice(n,1);break}for(var r in a)i.push(a[r]);return i},t.loadGames=function(){function e(e,t){for(var a in t)if(t[a].id==e)return t[a].odds;return null}t.showOnlyLives?$(".event-bar").not(".nothide").hide():$(".event-bar").show(),a.get("/ajax/matchesToBet?tz="+t.timezone+"&g="+t.gamesLoaded.join()).success(function(s,i,o,n){if(0==s.status){if(t.matchLiveFirst=-1,t.sort.top){var r;for(var c in s.matches){s.matches[c].isTop=!1;for(var l in s.topmatches)s.matches[c].id==s.topmatches[l].id&&(s.matches[c].isTop=!0,r=l);delete s.topmatches[r]}s.matches=s.matches.concat(s.topmatches)}for(var c in s.matches){1==s.matches[c].live_beting?(s.matches[c].limit_1=(t.user.limit_live_factor*s.matches[c].limit_1).toFixed(0),s.matches[c].limit_2=(t.user.limit_live_factor*s.matches[c].limit_2).toFixed(0),s.matches[c].draw=(t.user.limit_live_factor*s.matches[c].draw).toFixed(0),s.matches[c].limit_special=(t.user.limit_live_factor*s.matches[c].limit_special).toFixed(0)):(s.matches[c].limit_1=(t.user.limit_factor*s.matches[c].limit_1).toFixed(0),s.matches[c].limit_2=(t.user.limit_factor*s.matches[c].limit_2).toFixed(0),s.matches[c].draw=(t.user.limit_factor*s.matches[c].draw).toFixed(0),s.matches[c].limit_special=(t.user.limit_factor*s.matches[c].limit_special).toFixed(0));for(var d in h[0].matches)h[0].matches[d].id==s.matches[c].id&&(s.matches[c].selectedSide=h[0].matches[d].selectedSide,s.matches[c].specialsList=h[0].matches[d].specialsList,s.matches[c].specialsShow=h[0].matches[d].specialsShow);s.matches[c].oddsChange={s1:!1,s2:!1,s3:!1},s.matches[c].oddsChangeDirection={s1:!1,s2:!1,s3:!1};var m=e(s.matches[c].id,h[0].matches);null!=m&&(s.matches[c].odds.s1!=m.s1?(s.matches[c].oddsChange.s1=!0,s.matches[c].odds.s1>m.s1?s.matches[c].oddsChangeDirection.s1="Up":s.matches[c].oddsChangeDirection.s1="Down"):s.matches[c].oddsChange.s1=!1,s.matches[c].odds.s2!=m.s2?(s.matches[c].oddsChange.s2=!0,s.matches[c].odds.s2>m.s3?s.matches[c].oddsChangeDirection.s2="Up":s.matches[c].oddsChangeDirection.s2="Down"):s.matches[c].oddsChange.s2=!1,s.matches[c].odds.s3!=m.s3?(s.matches[c].oddsChange.s3=!0,s.matches[c].odds.s3>m.s3?s.matches[c].oddsChangeDirection.s3="Up":s.matches[c].oddsChangeDirection.s3="Down"):s.matches[c].oddsChange.s3=!1),void 0===s.matches[c].specialsList&&(s.matches[c].specialsList=[]),void 0===s.matches[c].specialsShow&&(s.matches[c].specialsShow=!1)}h[0].matches=s.matches,t.loadMoreRows(t.tabs[0].matches.length);for(var u in h[0].matches)if(h[0].matches[u].specialsList.length>0){var f=u;!function(e){a.get("/ajax/getSpecials?eid="+h[0].matches[e].id).success(function(t,a,s,i){if(0==t.status){var o=[];for(var n in t.list){o.push(t.list[n].id);for(var r in t.list[n].details)for(var c in h[0].matches[e].specialsList)for(var l in h[0].matches[e].specialsList[c].details)h[0].matches[e].specialsList[c].details[l].id==t.list[n].details[r].id&&(h[0].matches[e].specialsList[c].details[l].odd.toFixed(2)!==t.list[n].details[r].odd.toFixed(2)?(h[0].matches[e].specialsList[c].details[l].odd.toFixed(2)<=t.list[n].details[r].odd.toFixed(2)?h[0].matches[e].specialsList[c].details[l].oddsChangeDirection="Up":h[0].matches[e].specialsList[c].details[l].oddsChangeDirection="Down",h[0].matches[e].specialsList[c].details[l].odd=t.list[n].details[r].odd,h[0].matches[e].specialsList[c].details[l].oddsChange=!0):h[0].matches[e].specialsList[c].details[l].oddsChange=!1)}for(var d in h[0].matches[e].specialsList)o.indexOf(h[0].matches[e].specialsList[d].id)<0&&h[0].matches[e].specialsList.splice(d,1)}}),setTimeout(function(){$(".odd-changedUp").stop().animate({opacity:1},300,function(){$(".odd-changedUp").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedUp")})})},500),setTimeout(function(){$(".odd-changedDown").stop().animate({opacity:1},300,function(){$(".odd-changedDown").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedDown")})})},500)}(f)}setTimeout(function(){$(".odd-changedUp").stop().animate({opacity:1},300,function(){$(".odd-changedUp").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedUp")})})},500),setTimeout(function(){$(".odd-changedDown").stop().animate({opacity:1},300,function(){$(".odd-changedDown").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedDown")})})},500),1==t.showOnlyLives?h[0].oldMatches=null:h[0].oldMatches=s.oldMatches,t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,s.games),t.countAllEsports=t.countEsports()}}).error(function(e,t,a,s){})},t.tabs=h,t.oneAtATime=!0,t.bonus={bonusCode:"",mode:0},t.submitBonusCode=function(){return s.open({animation:!0,templateUrl:"bonusModal.html",controller:"bonusCtrl",size:"sm",resolve:{bonus:function(){
return t.bonus}}}),!1},t.removeCombination=function(e,t){s.open({animation:!0,templateUrl:"removeCombinationModal.html",controller:"removeCombinationCtrl",size:"sm",resolve:{txt:function(){return t},combination:function(){return e}}})},t.loadGamesLive=function(){function e(e,t){for(var a in t)if(t[a].id==e)return t[a].odds;return null}t.showOnlyLives?$(".event-bar").not(".nothide").hide():$(".event-bar").show(),a.get("/ajax/matchesLiveToBet?tz="+t.timezone+"&g="+t.gamesLoaded.join()).success(function(s,i,o,n){if(0==s.status){for(var r in s.matches_live){1==s.matches_live[r].live_beting?(s.matches_live[r].limit_1=(t.user.limit_live_factor*s.matches_live[r].limit_1).toFixed(0),s.matches_live[r].limit_2=(t.user.limit_live_factor*s.matches_live[r].limit_2).toFixed(0),s.matches_live[r].draw=(t.user.limit_live_factor*s.matches_live[r].draw).toFixed(0),s.matches_live[r].limit_special=(t.user.limit_live_factor*s.matches_live[r].limit_special).toFixed(0)):(s.matches_live[r].limit_1=(t.user.limit_factor*s.matches_live[r].limit_1).toFixed(0),s.matches_live[r].limit_2=(t.user.limit_factor*s.matches_live[r].limit_2).toFixed(0),s.matches_live[r].draw=(t.user.limit_factor*s.matches_live[r].draw).toFixed(0),s.matches_live[r].limit_special=(t.user.limit_factor*s.matches_live[r].limit_special).toFixed(0));for(var c in h[0].matches_live)h[0].matches_live[c].id==s.matches_live[r].id&&(s.matches_live[r].selectedSide=h[0].matches_live[c].selectedSide,s.matches_live[r].specialsList=h[0].matches_live[c].specialsList,s.matches_live[r].specialsShow=h[0].matches_live[c].specialsShow);s.matches_live[r].oddsChange={s1:!1,s2:!1,s3:!1},s.matches_live[r].oddsChangeDirection={s1:!1,s2:!1,s3:!1};var l=e(s.matches_live[r].id,h[0].matches_live);null!=l&&(s.matches_live[r].odds.s1!=l.s1?(s.matches_live[r].oddsChange.s1=!0,s.matches_live[r].odds.s1>l.s1?s.matches_live[r].oddsChangeDirection.s1="Up":s.matches_live[r].oddsChangeDirection.s1="Down"):s.matches_live[r].oddsChange.s1=!1,s.matches_live[r].odds.s2!=l.s2?(s.matches_live[r].oddsChange.s2=!0,s.matches_live[r].odds.s2>l.s3?s.matches_live[r].oddsChangeDirection.s2="Up":s.matches_live[r].oddsChangeDirection.s2="Down"):s.matches_live[r].oddsChange.s2=!1,s.matches_live[r].odds.s3!=l.s3?(s.matches_live[r].oddsChange.s3=!0,s.matches_live[r].odds.s3>l.s3?s.matches_live[r].oddsChangeDirection.s3="Up":s.matches_live[r].oddsChangeDirection.s3="Down"):s.matches_live[r].oddsChange.s3=!1),void 0===s.matches_live[r].specialsList&&(s.matches_live[r].specialsList=[]),void 0===s.matches_live[r].specialsShow&&(s.matches_live[r].specialsShow=!1)}h[0].matches_live=s.matches_live,t.loadMoreRows(t.tabs[0].matches_live.length),t.live=s.live,t.all_esports=s.allEsports,0==h[0].matches_live.length?t.showOnlyLives&&$("#noResultsLive").show():$("#noResultsLive").hide();for(var d in h[0].matches_live)if(h[0].matches_live[d].specialsList.length>0){var m=d;!function(e){a.get("/ajax/getSpecials?eid="+h[0].matches_live[e].id).success(function(t,a,s,i){if(0==t.status){var o=[];for(var n in t.list){o.push(t.list[n].id);for(var r in t.list[n].details)for(var c in h[0].matches_live[e].specialsList)for(var l in h[0].matches_live[e].specialsList[c].details)h[0].matches_live[e].specialsList[c].details[l].id==t.list[n].details[r].id&&(h[0].matches_live[e].specialsList[c].details[l].odd.toFixed(2)!==t.list[n].details[r].odd.toFixed(2)?(h[0].matches_live[e].specialsList[c].details[l].odd.toFixed(2)<=t.list[n].details[r].odd.toFixed(2)?h[0].matches_live[e].specialsList[c].details[l].oddsChangeDirection="Down":h[0].matches_live[e].specialsList[c].details[l].oddsChangeDirection="Up",h[0].matches_live[e].specialsList[c].details[l].odd=t.list[n].details[r].odd,h[0].matches_live[e].specialsList[c].details[l].oddsChange=!0):h[0].matches_live[e].specialsList[c].details[l].oddsChange=!1)}for(var d in h[0].matches_live[e].specialsList)o.indexOf(h[0].matches_live[e].specialsList[d].id)<0&&h[0].matches_live[e].specialsList.splice(d,1);h[0].matches_live[e].specialsList.forEach(function(e){for(var a in t.list)t.list[a].id==e.id&&t.list.splice(a,1)}),t.list.length>0&&t.list.forEach(function(t){h[0].matches_live[e].specialsList.push(t)}),h[0].matches_live[e].specialsList.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})}}),setTimeout(function(){$(".odd-changedUp").stop().animate({opacity:1},300,function(){$(".odd-changedUp").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedUp")})})},500),setTimeout(function(){$(".odd-changedDown").stop().animate({opacity:1},300,function(){$(".odd-changedDown").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedDown")})})},500)}(m)}setTimeout(function(){$(".odd-changedUp").stop().animate({opacity:1},300,function(){$(".odd-changedUp").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedUp")})})},500),setTimeout(function(){$(".odd-changedDown").stop().animate({opacity:1},300,function(){$(".odd-changedDown").stop().animate({backgroundColor:"white"},300,function(){$(this).removeClass("odd-changedDown")})})},500)}}).error(function(e,t,a,s){})},t.loadMoreRows=function(e){t.totalDisplayed+=10;var a=setInterval(function(){t.totalDisplayed<=e?t.loadMoreRows(e):(clearInterval(a),0==$("div#active-match").find("table").length?t.showOnlyLives||$("#noResults").show():$("#noResults").hide(),0==$("div#active-match").find("table").length?t.showOnlyLives&&$("#noResultsLive").show():$("#noResultsLive").hide(),t.showPreloader=!1)},100)},t.isFavorite=function(e){return"undefined"!=typeof t.favoriteTeamsId?t.favoriteTeamsId.indexOf(e)>=0:!1},t.switchFavorite=function(e,s){var i=$(s.currentTarget).attr("class");"favorite-team notFavorite"==i?a.get("/ajax/addToFavorites?teamId="+e+"&csrf_token="+$("#csrfToken").attr("value")).success(function(e){0==e.status&&(t.favoriteTeamsId=e.favoriteTeams,t.countFavoriteTeams=e.countFavorites,$(s.currentTarget).removeClass("notFavorite"),$(s.currentTarget).addClass("favorite"))}):"favorite-team favorite"==i?a.get("/ajax/removeFromFavorites?teamId="+e+"&csrf_token="+$("#csrfToken").attr("value")).success(function(e){0==e.status&&(t.favoriteTeamsId=e.favoriteTeams,t.countFavoriteTeams=e.countFavorites,$(s.currentTarget).removeClass("favorite"),$(s.currentTarget).addClass("notFavorite"))}):"favorite-tournament notFavorite"==i?a.get("/ajax/addToFavorites?tournamentId="+e+"&csrf_token="+$("#csrfToken").attr("value")).success(function(e){0==e.status&&(t.favoriteTournamentsId=e.favoriteTournaments,$(s.currentTarget).removeClass("notFavorite"),$(s.currentTarget).addClass("favorite"),t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,t.unorderedGames))}):"favorite-tournament favorite"==i?a.get("/ajax/removeFromFavorites?tournamentId="+e+"&csrf_token="+$("#csrfToken").attr("value")).success(function(e){0==e.status&&(t.favoriteTournamentsId=e.favoriteTournaments,$(s.currentTarget).removeClass("favorite"),$(s.currentTarget).addClass("notFavorite"),t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,t.unorderedGames))}):"favorite-game notFavorite"==i?a.get("/ajax/addToFavorites?gameId="+e+"&csrf_token="+$("#csrfToken").attr("value")).success(function(e){0==e.status&&(t.favoriteGamesId=e.favoriteGames,$(s.currentTarget).removeClass("notFavorite"),$(s.currentTarget).addClass("favorite"),t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,t.unorderedGames))}):"favorite-game favorite"==i&&a.get("/ajax/removeFromFavorites?gameId="+e+"&csrf_token="+$("#csrfToken").attr("value")).success(function(e){0==e.status&&(t.favoriteGamesId=e.favoriteGames,$(s.currentTarget).removeClass("favorite"),$(s.currentTarget).addClass("notFavorite"),t.games=t.setGamesOrder(t.favoriteGamesId,t.favoriteTournamentsId,t.unorderedGames))})},t.isFavoriteTournament=function(e){return"undefined"!=typeof t.favoriteTournamentsId?t.favoriteTournamentsId.indexOf(e)>=0:!1},t.isAnyFavoriteTournaments=function(e){var a=!1;for(d in e)if("undefined"!=typeof t.favoriteTournamentsId&&(a=t.favoriteTournamentsId.indexOf(e[d].id)>=0))break;return a},t.isFavoriteGame=function(e){return"undefined"!=typeof t.favoriteGamesId?t.favoriteGamesId.indexOf(e)>=0:!1},t.initShowSports=function(){for(var e in t.games)t.showSport[t.games[e].id]=!1},t.toggleSports=function(e){t.fromTournament||(t.showSport[e]=t.showSport[e]===!1),t.fromTournament=!1},t.initAutocomplete=!1,t.gameBeforeSearch=0,t.tournamentBeforeSearch=0,t.gamesBeforeSearching=[],t.resetQuery=function(){t.initAutocomplete=!1,t.preSearchQuery="",t.searchQuery=""},t.autocompleteSearching=function(){$(".searchBarInfo .glyphicon-search").css("display","none"),$(".searchBarInfo .search-cleaner").css("display","none"),$(".searchBarInfo .search-loader").css("display","inline");var e=[];if(t.preSearchQuery.length>2)if(a.get("/ajax/searchAutocomplete?query="+t.searchQuery).success(function(t){0==t.status&&(e=t.names,$("#search").autocomplete({source:e,open:function(){$(".ui-autocomplete").css("width",$("#search").parent(".input-group").css("width"))}}).keyup(function(e){13===e.which&&$(".ui-autocomplete").hide()}))}),t.showQueryResult=!0,t.showSearchPreloader=!0,0==t.initAutocomplete&&(t.initAutocomplete=!0,t.gameBeforeSearch=t.sort.game,t.tournamentBeforeSearch=t.sort.tournament,t.gamesBeforeSearching=t.gamesLoaded,t.search()),3==t.preSearchQuery.length)t.searchQuery=t.preSearchQuery,setTimeout(function(){t.showSearchPreloader=!1},700);else{var s=t.preSearchQuery;setTimeout(function(){var e=t.preSearchQuery;s==e&&(t.searchQuery=t.preSearchQuery),t.showSearchPreloader=!1},700)}else t.setBeforeQueryState();setTimeout(function(){$(".searchBarInfo .search-loader").css("display","none"),0==t.preSearchQuery.length?$(".searchBarInfo .glyphicon-search").css("display","inline"):$(".searchBarInfo .search-cleaner").css("display","inline")},700)},t.setBeforeQueryState=function(){t.searchQuery=t.preSearchQuery,t.showSearchPreloader=!0,1==t.initAutocomplete&&(t.initAutocomplete=!1,t.gamesLoaded=t.gamesBeforeSearching,t.sort.game=t.gameBeforeSearch,t.sort.tournament=t.tournamentBeforeSearch,t.loadGames(),t.loadGamesLive(),setTimeout(function(){t.showSearchPreloader=!1,t.showQueryResult=!1},700)),$("#search").autocomplete({source:[]})},t.hideQueryResults=function(){0==t.preSearchQuery.length&&(t.showQueryResult=!1)},t.search=function(){t.showOnlyLives=!1,t.sort.top=!1,t.showFavoriteMatches=!1,t.sort.game=0,t.gamesLoaded=[0,1,2,3,4,5,6,7,8,9,10],u(),t.loadGames(),t.loadGamesLive()},t.displaySearchResults=function(e){var a="\\b"+t.searchQuery,s=new RegExp(a,"i");return e.team1.name.search(s)>=0||e.team2.name.search(s)>=0},t.displayLiveSearchResults=function(e){var a="\\b"+t.searchQuery,s=new RegExp(a,"i");return(e.team1.name.search(s)>=0||e.team2.name.search(s)>=0)&&1==e.live_beting&&(e.tournament==t.sort.tournament||0==t.sort.tournament)&&(e.game==t.sort.game||0==t.sort.game)},t.lockCashOut=!1,t.makeCashOut=function(e){var a=angular.element(e.currentTarget).data("combination-id"),s=angular.element(e.currentTarget).data("cashout-odd"),i=angular.element(e.currentTarget).data("cashout-value");t.showCashOutConfirmation(a,s,i,e.currentTarget)},t.showCashOutConfirmation=function(e,a,i,o){t.lockCashOut=!0,s.open({animation:!0,templateUrl:"modalConfirmationCashOut.html",controller:"modalConfirmationCashOutCtrl",resolve:{header:function(){return"Confirmation"},combinationId:function(){return e},cashOutOdd:function(){return a},cashOutValue:function(){return i},icon:function(){return"ok"},cashOutButton:function(){return o}}}).result.then(function(){},function(){t.getCashOutInfo(),t.lockCashOut=!1})},t.manageCashOut=function(e,i,o,n){n||(n="");var r={combinationId:e,odd:i};a.post("/ajax/cashOutBet",r).success(function(a,i){1==a.status?"undefined"==typeof a.info&&a.error.length>0?s.open({animation:!0,templateUrl:"modalCashOut.html",controller:"modalCashOutCtrl",resolve:{header:function(){return"Error"},combinationId:function(){return e},odds:function(){return[]},cashOutValue:function(){return o},icon:function(){return"remove"},error:function(){return a.error},cashOutButton:function(){return n}}}).result.then(function(){t.getCashOutInfo(),t.lockCashOut=!1},function(){t.getCashOutInfo(),t.lockCashOut=!1}):s.open({animation:!0,templateUrl:"modalCashOutOdds.html",controller:"modalCashOutOddsCtrl",resolve:{content:function(){return a.info.content},cashoutValue:function(){return a.info.cashoutValue},currentOdd:function(){return a.info.currentOdd},oldOdd:function(){return a.info.oldOdd},combinationId:function(){return a.info.combinationId},icon:function(){return"ok"},cashOutButton:function(){return n}}}).result.then(function(){},function(){t.getCashOutInfo(),t.lockCashOut=!1}):0==a.status&&s.open({animation:!0,templateUrl:"modalCashOut.html",controller:"modalCashOutCtrl",resolve:{header:function(){return"CashOut"},combinationId:function(){return e},odds:function(){return[]},cashOutValue:function(){return o},icon:function(){return"ok"},error:function(){return a.error},cashOutButton:function(){return n}}}).result.then(function(){t.getCashOutInfo(),t.lockCashOut=!1},function(){t.getCashOutInfo(),t.lockCashOut=!1})}).error(function(e,t,a,s){})},e.$on("manageCashOutForCtrl",function(e,a,s,i,o){t.manageCashOut(a,s,i,o)}),t.cashOutInterval=function(){setInterval(function(){t.getCashOutInfo()},15e3)},t.getCashOutInfo=function(){var e=$("#cashOutIds").attr("data-cashouts-details").split(","),t={combinationsId:e};a.post("/ajax/getCashOutValues",t).success(function(e,t){if(0==e.status)for(var a in e.data)if(0==e.data[a].status){var s='.cashOut[data-combination-id="'+a+'"]';$(angular.element(s)).attr("data-cashout-odd",e.data[a].odd);var i=e.data[a].cashOutValue;$(angular.element(s)).attr("data-cashout-value",i),angular.element(s).children("div span").text("$"+i),$(angular.element(s)).removeAttr("disabled"),$(angular.element(s)).removeClass("cashOutNotAvailable")}else if(1==e.data[a].status){var s='.cashOut[data-combination-id="'+a+'"]';$(angular.element(s)).attr("disabled","disabled"),angular.element(s).children("div span").text(e.data[a].info),$(angular.element(s)).addClass("cashOutNotAvailable")}}).error(function(e,t,a,s){})}}]),app.controller("modalConfirmationCashOutCtrl",["$scope","$modalInstance","combinationId","$sce","cashOutOdd","cashOutValue","icon","header","cashOutButton","$rootScope",function(e,t,a,s,i,o,n,r,c,l){e.combinationId=a,e.cashOutButton=c,e.cashOutOdd=i,e.cashOutValue=o,e.icon=n,e.header=r,e.close=function(){t.dismiss()},e.manageCashOut=function(){e.$emit("manageCashOutForCtrl",e.combinationId,e.cashOutOdd,e.cashOutValue,e.cashOutButton),t.close()}}]),app.controller("modalCashOutCtrl",["$scope","$modalInstance","combinationId","error","$sce","odds","icon","header","cashOutButton","$rootScope",function(e,t,a,s,i,o,n,r,c,l){e.error=s,e.errorHtml=function(){return i.trustAsHtml(s)},e.infoHtml=function(){return i.trustAsHtml(info)},e.closeCashOutInfo=function(){t.dismiss()},e.removeCashOutButton=function(){c&&$(c).remove(),setTimeout(function(){window.location.reload()},3e3)},e.combinationId=a,e.odds=o,e.icon=n,e.header=r}]),app.controller("modalCashOutOddsCtrl",["$scope","$modalInstance","combinationId","content","$sce","cashoutValue","currentOdd","oldOdd","icon","cashOutButton","$rootScope",function(e,t,a,s,i,o,n,r,c,l,d){e.combinationId=a,e.content=s,e.cashoutValue=o,e.currentOdd=n,e.oldOdd=r,e.icon=c,e.tryAgain=function(){e.$emit("manageCashOutForCtrl",e.combinationId,e.currentOdd,e.cashoutValue,l),t.close()},e.close=function(){t.dismiss()}}]),app.controller("modalBetOddsCtrl",["$scope","$modalInstance","error","$sce","odds","bet","changedOdds","$rootScope","changedOddsBefore","tabs",function(e,t,a,s,i,o,n,r,c,l){e.error=a,e.errorHtml=function(){return s.trustAsHtml(a)},e.odds=i,e.bet=o,e.changedOdds=n,e.changedOddsBefore=c,e.getSideName=function(e,t){for(var a in l[0].matches)if(l[0].matches[a].id==e)for(var s in l[0].matches[a].specialsList)for(var i in l[0].matches[a].specialsList[s].details)if(l[0].matches[a].specialsList[s].details[i].id==t)return l[0].matches[a].specialsList[s].details[i].name;return""},e.getSideTypeName=function(e,t){for(var a in l[0].matches)if(l[0].matches[a].id==e)for(var s in l[0].matches[a].specialsList)for(var i in l[0].matches[a].specialsList[s].details)if(l[0].matches[a].specialsList[s].details[i].id==t)return l[0].matches[a].specialsList[s].name;return""},e.getSideOdd=function(e,t){for(var a in l[0].matches)if(l[0].matches[a].id==e)for(var s in l[0].matches[a].specialsList)for(var i in l[0].matches[a].specialsList[s].details)if(l[0].matches[a].specialsList[s].details[i].id==t)return l[0].matches[a].specialsList[s].details[i].odd;return 0},e.getSideOddBet=function(t,a){for(var s in e.bet.elements)if(e.bet.elements[s].id==t)for(var i in e.bet.elements[s].specialsList)for(var o in e.bet.elements[s].specialsList[i].details)if(e.bet.elements[s].specialsList[i].details[o].id==a)return e.bet.elements[s].specialsList[i].details[o].odd;return 0},e.tryAgain=function(){r.$broadcast("doBet"),t.close()},e.close=function(){t.close()},e.$on("errorHtml",function(t,a){e.errorHtml()}),e.$on("getSideName",function(t,a){e.getSideName(a.matchId,a.side)}),e.$on("getSideTypeName",function(t,a){e.getSideTypeName(a.matchId,a.side)}),e.$on("getSideOdd",function(t,a){e.getSideOdd(a.matchId,a.side)}),e.$on("getSideOddBet",function(t,a){e.getSideOddBet(a.matchId,a.side)})}]),app.controller("modalBetLockedCtrl",["$scope","$modalInstance",function(e,t){e.close=function(){t.close()}}]),app.controller("withdrawalMinimumAmountCtrl",["$scope","$modalInstance",function(e,t){e.close=function(){t.close()}}]),app.controller("removeCombinationCtrl",["$scope","$http","$modalInstance","$sce","txt","combination",function(e,t,a,s,i,o){e.txt=i,e.mode=0,e.goTo=function(){e.mode=1,t.post("/ajax/removeCombination",{combination:o}).success(function(t,a,s,i){0==t.status&&(window.location.href=window.location.href),1==t.status&&(e.mode=3),2==t.status&&(e.mode=4),t.status>2&&(e.mode=5)}).error(function(e,t,a,s){alert("Connection problem, please try later"),window.location.href=window.location.href})},e.cancel=function(){a.dismiss("cancel")}}]),app.controller("bonusCtrl",["$scope","$modalInstance","bonus",function(e,t,a){e.Math=window.Math,e.bonus=a,"bonusstartturnoff"==a.bonusCode.toLowerCase()?(e.bonus.mode=2,e.bonus.balanceBonus<=0?e.bonus.mode=4:1==e.bonus.lock&&(e.bonus.mode=5)):e.bonus.mode=1,e.goTo3=function(){document.getElementById("formBonus").submit()},e.goTo2=function(){e.bonus.mode=3},e.cancel=function(){t.dismiss("cancel")}}]),app.controller("loginCtrl",["$scope","$modalInstance",function(e,t){e.ok=function(){t.close()},e.close=function(){t.dismiss("cancel")},e.cancel=function(){t.dismiss("cancel")},e.login=function(){$("#loginErrorMsg").hide().addClass("hide"),$.post("/ajax/login",$("#loginForm").serialize(),function(e){0==e.status?window.location.href="/":($("#loginErrorMsg").show().removeClass("hide"),$(".login-error-code").html(e.code))})}}]),app.config(["$provide",function(e){e.decorator("$locale",["$delegate",function(e){return"en-us"==e.id&&(e.NUMBER_FORMATS.GROUP_SEP=""),e}])}]),app.directive("ngCurrency",["$filter","$locale",function(e,t){return{require:"ngModel",scope:{min:"=min",max:"=max",tooltipDisable:"=tooltipDisable",currencySymbol:"@",ngRequired:"=ngRequired"},link:function(a,s,i,o){function n(e){return RegExp("\\d|\\-|\\"+e,"g")}function r(e){return RegExp("\\-{0,1}((\\"+e+")|([0-9]{1,}\\"+e+"?))&?[0-9]{0,2}","g")}function c(e){e=String(e).replace(",",".");var a=t.NUMBER_FORMATS.DECIMAL_SEP,s=null;return RegExp("^-[\\s]*$","g").test(e)&&(e="-0"),n(a).test(e)&&(s=e.match(n(a)).join("").match(r(a)),s=s?s[0].replace(a,"."):null),s}function l(){return angular.isDefined(a.currencySymbol)?a.currencySymbol:t.NUMBER_FORMATS.CURRENCY_SYM}function d(e){if(!isNaN(e)){if("undefined"!=typeof a.min){var t=parseFloat(a.min);o.$setValidity("min",e>=t)}if("undefined"!=typeof a.max){var s=parseFloat(a.max);o.$setValidity("max",s>=e)}"undefined"!=typeof a.max&&"undefined"!=typeof a.min&&setTimeout(function(){a.$parent.bet.stake<=s&&a.$parent.bet.stake>=t?a.tooltipDisable||$("#Stake").tooltip("hide"):a.tooltipDisable||$("#Stake").attr("data-original-title","minimum $0.01, maximum $"+a.max).tooltip("fixTitle").tooltip("show")},300)}}o.$parsers.push(function(e){var t=c(e);return parseFloat(t)}),s.on("blur",function(){s.val(e("currency")(o.$modelValue,l()))}),s.on("run-validation",function(){d(o.$modelValue)}),o.$formatters.unshift(function(t){return e("currency")(t,l())}),a.$watch(function(){return o.$modelValue},function(e,t){d(e)}),a.tooltipDisable||($("#Stake").tooltip({trigger:"manual",placement:"bottom",delay:1}),$("#Stake").tooltip("hide"))}}}]),app.directive("alwaysOnScreen",["$window",function(e){return{scope:{scroll:"=scrollPosition"},link:function(t,a,s){var i=angular.element(e),o=angular.element(document.querySelector("#bottomEdge"));t.windowPos=e.pageYOffset;var n=function(){if(e.innerWidth>=992){t.scroll=e.pageYOffset;var s=a[0].getBoundingClientRect();if(t.scroll>t.windowPos){var i=a.prop("offsetTop")+a.height()+300;if(a.height()<e.innerHeight){if(s.top<40&&i<o.prop("offsetTop")){var n=t.scroll-t.windowPos,r=parseInt(a.css("marginTop").replace("px",""))+n;a.css("marginTop",r)}}else{window.innerHeight+500;if(s.bottom<=450&&i<o.prop("offsetTop")){var n=t.scroll-t.windowPos,r=parseInt(a.css("marginTop").replace("px",""))+n;a.css("marginTop",r)}}}else if(t.scroll<t.windowPos&&s.top>160){var n=t.windowPos-t.scroll,r=parseInt(a.css("marginTop").replace("px",""))-n;a.css("marginTop",0>=r?0:r)}t.windowPos=e.pageYOffset}};i.on("scroll",t.$apply.bind(t,n)),n()}}}]),app.directive("stickyNav",["$window",function(e){return{restrict:"A",scope:{},link:function(t,a){function s(){!a.hasClass("controls-fixed")&&e.pageYOffset>o?a.addClass("controls-fixed"):a.hasClass("controls-fixed")&&e.pageYOffset<=o&&a.removeClass("controls-fixed")}var i=angular.element(e),o=(a[0].clientHeight,5);t.$watch(function(){return a[0].getBoundingClientRect().top+e.pageYOffset},function(e,t){e===t||a.hasClass("controls-fixed")||(o=e)}),i.bind("scroll",s)}}}]),app.directive("slipPanel",["$window","$cookies",function(e,t){return{restrict:"A",scope:{},link:function(a,s){function i(){s.hasClass("min-panel")?s.hasClass("min-panel")&&(n.removeClass("fa-chevron-up"),n.addClass("fa-times"),s.removeClass("min-panel")):(n.removeClass("fa-times"),n.addClass("fa-chevron-up"),s.addClass("min-panel"))}var o=(angular.element(e),s[0].clientHeight,angular.element("#min-max-panel"),angular.element("#pin-up")),n=angular.element("#min-max-panel > i"),r=angular.element("#yourBet");"pin"==t.get("slipPanelStyle")&&s.removeClass("bottom-sticky"),r.click(function(){i()}),o.click(function(){s.hasClass("bottom-sticky")?s.hasClass("bottom-sticky")&&(s.removeClass("bottom-sticky"),t.put("slipPanelStyle","pin")):(s.addClass("bottom-sticky"),t.put("slipPanelStyle","sticky"))})}}}]),app.filter("dolar",function(){return function(e){e=e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1");var t=e+'<span class="desc">,00</span><span class="cur">$</span>';return t}}),app.controller("AccordionInfoCtrl",["$scope",function(e){e.oneAtATime=!0,e.isOpenedQ1="#/q1"===location.hash,e.isOpenedE1="#/e1"===location.hash,e.isOpenedE2="#/e2"===location.hash,e.isOpenedE3="#/e3"===location.hash,e.isOpenedE4="#/e4"===location.hash||"#/e5"===location.hash,e.isOpenedE6="#/e6"===location.hash||"#/e7"===location.hash,e.isOpenedE8="#/e8"===location.hash,e.isOpenedE9="#/e9"===location.hash,e.isOpenedE10="#/e10"===location.hash,e.isOpenedE11="#/e11"===location.hash,e.isOpenedE12="#/e12"===location.hash,e.isOpenedE13="#/e13"===location.hash,e.isOpenedE14="#/e14"===location.hash,e.isOpenedE15="#/e15"===location.hash,e.isOpenedE16="#/e16"===location.hash,e.status={isFirstOpen:!1}}]),app.controller("modalBetFinishCtrl",["$scope","$modalInstance","icon","error","header","$sce",function(e,t,a,s,i,o){e.icon=a,e.error=s,e.errorHtml=function(){return o.trustAsHtml(s)},e.header=i,e.closeBetInfo=function(){t.close()}}]),app.directive("errSrc",function(){return{link:function(e,t,a){t.bind("error",function(){e.$parent.unavailableImages?e.$parent.unavailableImages.push(a.src):t.remove()})}}}),$(function(){$(".button-checkbox").each(function(){function e(){var e=i.is(":checked");s.data("state",e?"on":"off"),s.find(".state-icon").removeClass().addClass("state-icon "+n[s.data("state")].icon),e?s.removeClass("btn-default").addClass("btn-"+o+" active"):s.removeClass("btn-"+o+" active").addClass("btn-default")}function t(){e(),0==s.find(".state-icon").length&&s.prepend('<i class="state-icon '+n[s.data("state")].icon+'"></i>')}var a=$(this),s=a.find("button"),i=a.find("input:checkbox"),o=s.data("color"),n={on:{icon:"glyphicon glyphicon-check"},off:{icon:"glyphicon glyphicon-unchecked"}};s.on("click",function(){i.prop("checked",!i.is(":checked")),i.triggerHandler("change"),e()}),i.on("change",function(){e()}),t()}),$("#userDataForm").submit(function(){$("#form-email").parent("div").removeClass("has-error"),0!=$("#form-email").val()?$.post("/ajax/userdataform",$("#userDataForm").serialize()).success(function(e){0==e.status?customAlerts("success",e.msg):customAlerts("danger",e.msg)}).error(function(e){customAlerts("danger",e.msg)}):$("#form-email").parent("div").addClass("has-error")}),$("a.tabs").on("click",function(){$(this).parent().find("a.tabs").removeClass("active"),$(this).addClass("active")}),$("#search").autocomplete({source:[]})});var sourceSwap=function(){var e=$(this),t=e.data("alt-src");e.data("alt-src",e.attr("src")),e.attr("src",t)};$(function(){$("img[data-alt-src]").each(function(){(new Image).src=$(this).data("alt-src")}).hover(sourceSwap,sourceSwap),$("body").delegate("#myBetBtn","click",function(){$("body").animate({scrollTop:$("#slipPanel").offset().top},1e3)}),$(window).width<920&&$(window).scroll(function(){$("#slipPanel").length>0&&(parseInt($(window).scrollTop())>=parseInt($("#slipPanel").offset().top)-100||$(window).width()>900?$("#myBetBtn").hide():$("#myBetBtn").show())})}),String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),s=e-3600*t-60*a;10>t&&(t="0"+t),10>a&&(a="0"+a),10>s&&(s="0"+s);var i=t+":"+a+":"+s;return i};var current_fs,next_fs,previous_fs,left,opacity,scale,animating;$(".next").click(function(){return animating?!1:(animating=!0,current_fs=$(this).parent(),next_fs=$(this).parent().next(),$("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active"),next_fs.show(),void current_fs.animate({opacity:0},{step:function(e,t){scale=1-.2*(1-e),left=50*e+"%",opacity=1-e,current_fs.css({transform:"scale("+scale+")"}),next_fs.css({left:left,opacity:opacity})},duration:800,complete:function(){current_fs.hide(),animating=!1},easing:"easeInOutBack"}))}),$(function(){function e(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var t,a,s,i,o,n,r;$("#msform [name=login]").on("input",function(){$("#msform .alert-login").hide(),$.get("/ajax/checkLoginExists",{login:$("#msform [name=login]").val()},function(e){0==e.status?$("#msform [name=login]").attr("data-checked-login","1"):($("#msform [name=login]").attr("data-checked-login","0"),$("#msform .alert-login").show())})}),$("#msform [name=email]").on("input",function(){$("#msform .alert-email").hide(),e($("#msform [name=email]").val())&&$.get("/ajax/checkEmailExists",{email:$("#msform [name=email]").val()},function(e){0==e.status?$("#msform [name=email]").attr("data-checked-email","1"):($("#msform [name=email]").attr("data-checked-email","0"),$("#msform .alert-email").show())})}),$("#msform [name=birth_day],#msform [name=birth_month]").on("change",function(){var e=new Date;$("#msform [name=birth_year] option").first().attr("disabled",!1),e.getMonth()+1<parseInt($("#msform [name=birth_month]").val())&&($("#msform [name=birth_year] option").first().attr("disabled",!0),0==$("#msform [name=birth_year]").prop("selectedIndex")&&$("#msform [name=birth_year]").prop("selectedIndex",1)),e.getMonth()+1==parseInt($("#msform [name=birth_month]").val())&&e.getDate()+1<parseInt($("#msform [name=birth_day]").val())&&($("#msform [name=birth_year] option").first().attr("disabled",!0),0==$("#msform [name=birth_year]").prop("selectedIndex")&&$("#msform [name=birth_year]").prop("selectedIndex",1))}),$(".next").click(function(){if(r)return!1;if(t=$(this).parent(),a=$(this).parent().next(),"0"==t.attr("data-step"))if(t.parent().find("[name=steamid]").val().length>0);else{if(t.find("[name=login]").val().length<=0||"0"==t.find("[name=login]").attr("data-checked-login"))return t.find("[name=login]").attr("valid","0"),!1;if(t.find("[name=login]").attr("valid","1"),t.find("[name=password]").val().length<4)return t.find("[name=password]").attr("valid","0"),!1;if(t.find("[name=password]").attr("valid","1"),t.find("[name=re_password]").val()!=t.find("[name=password]").val())return t.find("[name=re_password]").attr("valid","0"),!1;t.find("[name=re_password]").attr("valid","1")}if("1"==t.attr("data-step")){if(t.find("[name=first_name]").val().length<=0)return t.find("[name=first_name]").attr("valid","0"),!1;if(t.find("[name=first_name]").attr("valid","1"),t.find("[name=last_name]").val().length<=0)return t.find("[name=last_name]").attr("valid","0"),!1;if(t.find("[name=last_name]").attr("valid","1"),!e(t.find("[name=email]").val())||"0"==t.find("[name=email]").attr("data-checked-email"))return t.find("[name=email]").attr("valid","0"),!1;t.find("[name=email]").attr("valid","1")}if("2"==t.attr("data-step")){if(t.find("[name=address_street]").val().length<=0)return t.find("[name=address_street]").attr("valid","0"),!1;if(t.find("[name=address_street]").attr("valid","1"),t.find("[name=address_postal]").val().length<=0)return t.find("[name=address_postal]").attr("valid","0"),!1;if(t.find("[name=address_postal]").attr("valid","1"),t.find("[name=address_city]").val().length<=0)return t.find("[name=address_city]").attr("valid","0"),!1;if(t.find("[name=address_city]").attr("valid","1"),t.find("[name=address_country]").val().length<=0)return t.find("[name=address_country]").attr("valid","0"),!1;t.find("[name=address_country]").attr("valid","1")}if("3"==t.attr("data-step")){if(!t.find("[name=terms_tc]").prop("checked"))return t.find("[name=terms_tc]").attr("valid","0"),!1;if(t.find("[name=terms_tc]").attr("valid","1"),!t.find("[name=terms_18]").prop("checked"))return t.find("[name=terms_18]").attr("valid","0"),!1;if(t.find("[name=terms_18]").attr("valid","1"),""==grecaptcha.getResponse())return!1}"3"==t.attr("data-step")&&$.post("/register",$("#msform").serialize(),function(e){window.location.href="/"}),r=!0,$("#progressbar li").eq($("fieldset").index(a)).addClass("active"),a.show(),t.animate({opacity:0},{step:function(e,s){n=1-.2*(1-e),i=50*e+"%",o=1-e,t.css({transform:"scale("+n+")"}),a.css({left:i,opacity:o})},duration:800,complete:function(){t.hide(),r=!1},easing:"easeInOutBack"})}),$(".previous").click(function(){return r?!1:(r=!0,t=$(this).parent(),s=$(this).parent().prev(),$("#progressbar li").eq($("fieldset").index(t)).removeClass("active"),s.show(),void t.animate({opacity:0},{step:function(e,a){n=.8+.2*(1-e),i=50*(1-e)+"%",o=1-e,t.css({left:i}),s.css({transform:"scale("+n+")",opacity:o})},duration:800,complete:function(){t.hide(),r=!1},easing:"easeInOutBack"}))}),$(".submit").click(function(){return!1})});
//# sourceMappingURL=maps/all.min.js.map